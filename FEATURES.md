# Jarvis Telegram Bot - æ©Ÿèƒ½ã‚«ã‚¿ãƒ­ã‚°

**Version:** 1.0
**Last Updated:** 2026-02-03 22:21
**Bot Name:** JarvisğŸ¤– (Claude Opus 4.5 via Telegram)

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Claude Telegram Botã«å®Ÿè£…ã•ã‚ŒãŸã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹åŒ…æ‹¬çš„ãªã‚«ã‚¿ãƒ­ã‚°ã§ã™ã€‚

---

## ğŸ“‹ ç›®æ¬¡

1. [ã‚³ã‚¢æ©Ÿèƒ½](#1-ã‚³ã‚¢æ©Ÿèƒ½)
2. [è¨˜æ†¶ãƒ»å…±æœ‰ã‚·ã‚¹ãƒ†ãƒ ](#2-è¨˜æ†¶å…±æœ‰ã‚·ã‚¹ãƒ†ãƒ )
3. [è‡ªå‹•åŒ–ãƒ»ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½](#3-è‡ªå‹•åŒ–ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½)
4. [AIå”è­°ä¼šï¼ˆAI Councilï¼‰](#4-aiå”è­°ä¼šai-council)
5. [é€šçŸ¥ãƒ»UXæ”¹å–„](#5-é€šçŸ¥uxæ”¹å–„)
6. [ã‚¿ã‚¹ã‚¯ç®¡ç†](#6-ã‚¿ã‚¹ã‚¯ç®¡ç†)
7. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½](#7-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½)
8. [çµ±åˆæ©Ÿèƒ½](#8-çµ±åˆæ©Ÿèƒ½)

---

## 1. ã‚³ã‚¢æ©Ÿèƒ½

### 1.1 ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å…¥åŠ›å¯¾å¿œ
**ç›®çš„:** ã‚ã‚‰ã‚†ã‚‹å½¢å¼ã®å…¥åŠ›ã‚’å—ã‘ä»˜ã‘ã‚‹

**æ©Ÿèƒ½:**
- ğŸ’¬ ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- ğŸ¤ éŸ³å£°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆOpenAI WhisperçµŒç”±ã§è‡ªå‹•æ–‡å­—èµ·ã“ã—ï¼‰
- ğŸ“¸ ç”»åƒãƒ»ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
- ğŸ“„ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆPDFã€ZIPã€TARè‡ªå‹•å±•é–‹ï¼‰

**å„ªä½æ€§:**
- ãƒ¢ãƒã‚¤ãƒ«ã‹ã‚‰ã®è‡ªç„¶ãªæ“ä½œ
- ä¼šè©±ã®æ–‡è„ˆã‚’ä¿æŒ
- ãƒ¡ãƒ‡ã‚£ã‚¢ã‚°ãƒ«ãƒ¼ãƒ—ã®è‡ªå‹•å‡¦ç†

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/handlers/voice.ts` - éŸ³å£°å‡¦ç†
- `src/handlers/photo.ts` - ç”»åƒå‡¦ç†
- `src/handlers/document.ts` - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†
- `src/handlers/media-group.ts` - ãƒ¡ãƒ‡ã‚£ã‚¢ã‚°ãƒ«ãƒ¼ãƒ—å‡¦ç†

---

### 1.2 ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
**ç›®çš„:** ä¼šè©±ã®ç¶™ç¶šæ€§ã‚’ä¿è¨¼

**æ©Ÿèƒ½:**
- `/new` - æ–°è¦ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹
- `/resume` - éå»5ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰å†é–‹ï¼ˆè¦ç´„ä»˜ãï¼‰
- `/stop` - ç¾åœ¨ã®å‡¦ç†ã‚’ä¸­æ–­
- `/status` - ç¾åœ¨ã®å‡¦ç†çŠ¶æ³ç¢ºèª

**å„ªä½æ€§:**
- ä¼šè©±ã®æ–‡è„ˆã‚’å¤±ã‚ãªã„
- è¤‡æ•°ã®ã‚¿ã‚¹ã‚¯ã‚’ä¸¦è¡Œç®¡ç†
- ä¸­æ–­ãƒ»å†é–‹ãŒè‡ªç”±

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/session.ts` - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- `src/handlers/commands.ts` - ã‚³ãƒãƒ³ãƒ‰å‡¦ç†

---

### 1.3 æ‹¡å¼µæ€è€ƒãƒ¢ãƒ¼ãƒ‰ï¼ˆExtended Thinkingï¼‰
**ç›®çš„:** è¤‡é›‘ãªå•é¡Œã®æ¨è«–éç¨‹ã‚’å¯è¦–åŒ–

**æ©Ÿèƒ½:**
- "think"ã€"reason"ãªã©ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§è‡ªå‹•èµ·å‹•
- æ¨è«–éç¨‹ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
- `THINKING_TRIGGER_KEYWORDS`ã§è¨­å®šå¯èƒ½

**å„ªä½æ€§:**
- AIã®æ€è€ƒéç¨‹ãŒé€æ˜
- è¤‡é›‘ãªå•é¡Œè§£æ±ºã«æœ€é©
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå­¦ç¿’ã§ãã‚‹

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/handlers/text.ts` - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º
- `src/config.ts` - è¨­å®šç®¡ç†

---

## 2. è¨˜æ†¶ãƒ»å…±æœ‰ã‚·ã‚¹ãƒ†ãƒ 

### 2.1 AI_MEMORYï¼ˆGoogle Docsé€£æºï¼‰
**ç›®çš„:** é•·æœŸè¨˜æ†¶ã®ä¿æŒã¨å…±æœ‰

**æ©Ÿèƒ½:**
- `[MEMORY]`ã‚¿ã‚°ã§é‡è¦æƒ…å ±ã‚’è‡ªå‹•ä¿å­˜
- Google DocsçµŒç”±ã§4AIï¼ˆJarvis/ã‚¯ãƒ­ãƒƒãƒ”ãƒ¼/ChatGPT/Geminiï¼‰ãŒå…±æœ‰
- æ¯æ—¥2:05è‡ªå‹•æ•´ç†ï¼ˆcronï¼‰

**å„ªä½æ€§:**
- ä¼šè©±ã‚’è¶…ãˆãŸè¨˜æ†¶ã®ç¶™ç¶š
- è¤‡æ•°AIã§ã®çŸ¥è­˜å…±æœ‰
- æ‰‹å‹•ç·¨é›†ã‚‚å¯èƒ½

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/handlers/memory-organizer.ts` - è‡ªå‹•æ•´ç†
- `~/ai-memory-manager.py` - Python CLI

**é–¢é€£æƒ…å ±:**
- Doc ID: `172siSUWPADVWBV-IpcnxfjLP_pV5G_gUSmQiGTDbTCc`

---

### 2.2 Memory Gatewayï¼ˆCloudflare Workersï¼‰
**ç›®çš„:** å…¨AIå…±æœ‰ã®ã‚¯ãƒ©ã‚¦ãƒ‰è¨˜æ†¶åŸºç›¤

**æ©Ÿèƒ½:**
- 3ã¤ã®APIï¼ˆ/append, /query, /snapshotï¼‰
- D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆSQLiteï¼‰
- Janitorè‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆé‡è¤‡æ’é™¤ãƒ»DigeståŒ–ãƒ»Pinnedç”Ÿæˆï¼‰
- Idempotencyä¿è¨¼

**å„ªä½æ€§:**
- é«˜é€Ÿãƒ»ä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ï¼ˆCloudflare Edgeï¼‰
- ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- è‡ªå‹•çš„ãªãƒ‡ãƒ¼ã‚¿æ•´ç†

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `~/memory-gateway/src/memory-handlers.ts` - APIå®Ÿè£…
- `~/memory-gateway/src/janitor.ts` - è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- `~/memory-gateway/migrations/0001_memory_system.sql` - ã‚¹ã‚­ãƒ¼ãƒ

**API URL:**
- `https://jarvis-memory-gateway.jarvis-matsuoka.workers.dev`

---

### 2.3 Action Ledger v1.2.1
**ç›®çš„:** ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®é‡è¤‡æ’é™¤ã¨æ°¸ç¶šåŒ–

**æ©Ÿèƒ½:**
- `recordIfNotDuplicate()` - ã‚¢ãƒˆãƒŸãƒƒã‚¯ãªé‡è¤‡ãƒã‚§ãƒƒã‚¯
- Memory Gatewayæ°¸ç¶šåŒ–ï¼ˆBotå†èµ·å‹•ã§ã‚‚å¾©å…ƒï¼‰
- Time-window keysï¼ˆdailyå˜ä½ï¼‰
- Exponential backoff + Jitter

**å„ªä½æ€§:**
- Race conditionå®Œå…¨å¯¾ç­–
- ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒªã‚«ãƒãƒªãƒ¼
- ãƒªãƒˆãƒ©ã‚¤ã®å®‰å…¨æ€§

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/utils/action-ledger.ts` (475è¡Œ)

**è©•ä¾¡:** 9.5/10 ğŸ‰

---

## 3. è‡ªå‹•åŒ–ãƒ»ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½

### 3.1 ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–AIç§˜æ›¸
**ç›®çš„:** ã‚¿ã‚¹ã‚¯ã®è‡ªå‹•ç›£è¦–ã¨é€šçŸ¥

**æ©Ÿèƒ½:**
- **æœã®ãƒ–ãƒªãƒ¼ãƒ•ã‚£ãƒ³ã‚°ï¼ˆ3:00 AMï¼‰**
  - ä»Šæ—¥ã®ã‚¿ã‚¹ã‚¯æ¦‚è¦
  - é«˜å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯è­¦å‘Š
  - é•·æœŸæ”¾ç½®ã‚¿ã‚¹ã‚¯ã‚¢ãƒ©ãƒ¼ãƒˆ

- **å¤œã®æŒ¯ã‚Šè¿”ã‚Šï¼ˆ8:00 PMï¼‰**
  - å®Œäº†ã‚¿ã‚¹ã‚¯é›†è¨ˆ
  - æœªå®Œäº†ã‚¿ã‚¹ã‚¯ç¢ºèª
  - æ˜æ—¥ã®æº–å‚™ãƒã‚§ãƒƒã‚¯

**å„ªä½æ€§:**
- æ‰‹å‹•ç¢ºèªä¸è¦
- å„ªå…ˆåº¦ã®è‡ªå‹•åˆ¤å®š
- ã‚¿ã‚¹ã‚¯ã®è¦‹è½ã¨ã—é˜²æ­¢

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/services/proactive-secretary.ts` - ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
- `src/jobs/morning-briefing.ts` - æœã®ãƒ–ãƒªãƒ¼ãƒ•ã‚£ãƒ³ã‚°
- `src/jobs/evening-review.ts` - å¤œã®æŒ¯ã‚Šè¿”ã‚Š
- `src/utils/task-analyzer.ts` - ã‚¿ã‚¹ã‚¯è§£æ

**Cronè¨­å®š:**
```bash
0 3 * * * cd ~/claude-telegram-bot && ~/.bun/bin/bun run src/jobs/morning-briefing.ts >> ~/claude-telegram-bot/logs/morning-briefing.log 2>&1
0 20 * * * cd ~/claude-telegram-bot && ~/.bun/bin/bun run src/jobs/evening-review.ts >> ~/claude-telegram-bot/logs/evening-review.log 2>&1
```

---

### 3.2 Autopilot Engine v1.1
**ç›®çš„:** è‡ªå¾‹çš„ãªã‚¿ã‚¹ã‚¯å®Ÿè¡Œ

**æ©Ÿèƒ½:**
- **Predictive Task Generator** - æ–‡è„ˆã‹ã‚‰æ¬¡ã®ã‚¿ã‚¹ã‚¯ã‚’äºˆæ¸¬
- **Stalled Task Recomposer** - æ”¾ç½®ã‚¿ã‚¹ã‚¯ã®å†æ§‹æˆ
- **Reverse Scheduler** - ç· åˆ‡ã‹ã‚‰é€†ç®—ã—ãŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
- **Weekly Review** - é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼è‡ªå‹•ç”Ÿæˆ

**å„ªä½æ€§:**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŒ‡ç¤ºå‰ã«è¡Œå‹•
- æ–‡è„ˆã‚’ç†è§£ã—ãŸææ¡ˆ
- é‡è¤‡å®Ÿè¡Œã®å®Œå…¨é˜²æ­¢

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/autopilot/engine.ts` - Autopilotã‚¨ãƒ³ã‚¸ãƒ³
- `src/autopilot/plugins/predictive-task-generator.ts`
- `src/autopilot/plugins/stalled-task-recomposer.ts`
- `src/autopilot/plugins/reverse-scheduler.ts`
- `src/autopilot/plugins/weekly-review.ts`
- `src/handlers/autopilot.ts` - ãƒãƒ³ãƒ‰ãƒ©

---

### 3.3 ã‚¢ãƒ©ãƒ¼ãƒ å®Œå…¨è‡ªå‹•åŒ–ï¼ˆiPhoneé€£æºï¼‰
**ç›®çš„:** ã‚¿ãƒƒãƒ—ä¸è¦ã®ã‚¢ãƒ©ãƒ¼ãƒ è¨­å®š

**æ©Ÿèƒ½:**
- Telegram â†’ M1 â†’ iMessage â†’ iPhone Personal Automation â†’ Clock app
- å½¢å¼: `HH:MM|ãƒ©ãƒ™ãƒ«`
- ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆè‡ªå‹•ç”Ÿæˆï¼ˆplistå½¢å¼ï¼‰

**å„ªä½æ€§:**
- å®Œå…¨è‡ªå‹•åŒ–ï¼ˆã‚¿ãƒƒãƒ—ä¸è¦ï¼‰
- è‡ªç„¶è¨€èªã§è¨­å®šå¯èƒ½
- ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®è‡ªå‹•ç”Ÿæˆ

**é–‹ç™ºæ™‚é–“:** 7æ™‚é–“10åˆ†

**é–¢é€£æƒ…å ±:**
- 2026-02-01å®Ÿè£…å®Œäº†

---

## 4. AIå”è­°ä¼šï¼ˆAI Councilï¼‰

### 4.1 AI Councilï¼ˆ3AIè«®å•ï¼‰
**ç›®çš„:** è¤‡æ•°AIã®é›†åˆçŸ¥ã‚’æ´»ç”¨

**æ©Ÿèƒ½:**
- `council: [è³ªå•]` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§èµ·å‹•
- 3AIï¼ˆGemini/Claude/ChatGPTï¼‰ã«ä¸¦è¡Œè«®å•
- JarvisãŒç·åˆåˆ¤æ–­ã‚’æç¤º

**å„ªä½æ€§:**
- å˜ä¸€AIã®åã‚Šã‚’å›é¿
- å¤šè§’çš„ãªæ„è¦‹ã‚’å–å¾—
- é‡è¦åˆ¤æ–­ã®å“è³ªå‘ä¸Š

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/handlers/ai-router.ts` - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- `src/utils/ai-council-helper.ts` - Councilå‘¼ã³å‡ºã—
- `src/features/ai_council/` - Councilå®Ÿè£…
- `docs/jarvis/rules/71-council-policy.md` - ãƒãƒªã‚·ãƒ¼

**å‹•ä½œãƒ•ãƒ­ãƒ¼:**
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼: `council: è³ªå•`
2. 3AIã«ä¸¦è¡Œé€ä¿¡
3. å„AIå¿œç­”ã‚’è¡¨ç¤º
4. JarvisãŒçµ±åˆåˆ¤æ–­

---

### 4.2 AI Routerï¼ˆãƒãƒ«ãƒAIåˆ‡ã‚Šæ›¿ãˆï¼‰
**ç›®çš„:** ç”¨é€”ã«å¿œã˜ãŸAIé¸æŠ

**æ©Ÿèƒ½:**
- `gpt:` - ChatGPTå‘¼ã³å‡ºã—
- `gemini:` - Geminiå‘¼ã³å‡ºã—
- `croppy:` - ã‚¯ãƒ­ãƒƒãƒ”ãƒ¼ğŸ¦ï¼ˆClaude via claude.aiï¼‰å‘¼ã³å‡ºã—
- `all:` - 3AIå…¨ã¦å‘¼ã³å‡ºã—

**å„ªä½æ€§:**
- AIã®å¼·ã¿ã‚’ä½¿ã„åˆ†ã‘
- åŒã˜è³ªå•ã‚’è¤‡æ•°AIã§æ¯”è¼ƒ
- æŸ”è»Ÿãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/handlers/ai-router.ts`

---

### 4.3 Confidence Router
**ç›®çš„:** ä¿¡é ¼åº¦ã«å¿œã˜ãŸè‡ªå‹•ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

**æ©Ÿèƒ½:**
- Confidence Scoreè‡ªå‹•è¨ˆç®—ï¼ˆ0.0-1.0ï¼‰
- `<0.8` ã§è‡ªå‹•çš„ã«AI Councilã¸
- Learning Logè¨˜éŒ²

**å„ªä½æ€§:**
- ä¸ç¢ºå®Ÿãªåˆ¤æ–­ã‚’è‡ªå‹•æ¤œçŸ¥
- å“è³ªã®è‡ªå‹•ä¿è¨¼
- å¤±æ•—ã‹ã‚‰ã®å­¦ç¿’

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/utils/confidence-router.ts`

---

## 5. é€šçŸ¥ãƒ»UXæ”¹å–„

### 5.1 é€šçŸ¥ã‚¹ãƒ‘ãƒ é˜²æ­¢æ©Ÿèƒ½
**ç›®çš„:** ä¸è¦ãªä¸­é–“é€šçŸ¥ã‚’å‰Šæ¸›

**å®Ÿè£…å†…å®¹:**
- ä¸­é–“é€šçŸ¥ï¼ˆReading.../Editing.../Running...ï¼‰ã‚’å®Œå…¨å‰Šé™¤
- Phaseé€šçŸ¥ã«çµ±åˆï¼ˆé–‹å§‹1é€š + å®Œäº†1é€šï¼‰
- å®Œäº†æ™‚ã¯ã‚µãƒãƒªãƒ¼ä»˜ã

**åŠ¹æœ:**
- **Before:** 10é€šä»¥ä¸Š/ã‚¿ã‚¹ã‚¯
- **After:** 2-3é€š/ã‚¿ã‚¹ã‚¯ï¼ˆ67%å‰Šæ¸›ï¼‰

**å„ªä½æ€§:**
- é›†ä¸­ã‚’å¦¨ã’ãªã„
- é‡è¦æƒ…å ±ãŒåŸ‹ã‚‚ã‚Œãªã„
- ä½œæ¥­å†…å®¹ã¯æŠŠæ¡å¯èƒ½

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/utils/notification-buffer.ts` - NotificationBuffer class
- `src/handlers/streaming.ts` - ä¸­é–“é€šçŸ¥å‰Šé™¤
- `src/handlers/text.ts` - Phaseæ¤œçŸ¥

**å®Ÿè£…æ—¥:** 2026-02-03

---

### 5.2 Interactive Buttonsï¼ˆã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ï¼‰
**ç›®çš„:** ã‚¿ãƒƒãƒ—æ“ä½œã§ã‚¹ãƒ ãƒ¼ã‚ºãªé¸æŠ

**æ©Ÿèƒ½:**
- Claude ãŒé¸æŠè‚¢ã‚’æç¤º
- Telegramã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã§å›ç­”
- `ask_user` MCP toolçµŒç”±

**å„ªä½æ€§:**
- ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ä¸è¦
- é¸æŠãƒŸã‚¹é˜²æ­¢
- ãƒ¢ãƒã‚¤ãƒ«ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- Built-in MCP server
- `src/handlers/callback.ts` - ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†

---

## 6. ã‚¿ã‚¹ã‚¯ç®¡ç†

### 6.1 ã‚¿ã‚¹ã‚¯è¨ˆæ¸¬è‡ªå‹•åŒ–
**ç›®çš„:** ä½œæ¥­æ™‚é–“ã®è‡ªå‹•è¿½è·¡

**æ©Ÿèƒ½:**
- ã€Œé–‹å§‹ã€ã€Œçµ‚äº†ã€ã€Œå®Œäº†ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§è‡ªå‹•å®Ÿè¡Œ
- Toggl Tracké€£æº
- è‡ªå‹•ã‚¿ã‚¤ãƒãƒ¼ç®¡ç†

**å„ªä½æ€§:**
- æ‰‹å‹•è¨ˆæ¸¬ä¸è¦
- æ­£ç¢ºãªæ™‚é–“è¨˜éŒ²
- è‡ªç„¶è¨€èªã§æ“ä½œ

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `~/task-tracker.py` - Python CLI
- `~/.task-tracker.json` - ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢

---

### 6.2 Gemini TasksåŒæœŸ
**ç›®çš„:** Google Tasksã¨ã®åŒæ–¹å‘åŒæœŸ

**æ©Ÿèƒ½:**
- 5åˆ†ã”ã¨ã«è‡ªå‹•åŒæœŸï¼ˆcronï¼‰
- Gemini APIçµŒç”±

**å„ªä½æ€§:**
- è¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹ã§åŒæœŸ
- Google ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨çµ±åˆ
- ã‚¿ã‚¹ã‚¯ã®ä¸€å…ƒç®¡ç†

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/handlers/gemini-tasks-sync.ts`

**Cronè¨­å®š:**
```bash
*/5 * * * * # Gemini TasksåŒæœŸ
```

---

## 7. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½

### 7.1 å¤šå±¤ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
**ç›®çš„:** èª¤æ“ä½œãƒ»ä¸æ­£åˆ©ç”¨ã®é˜²æ­¢

**æ©Ÿèƒ½:**
1. **User Allowlist** - è¨±å¯ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®ã¿
2. **Intent Classification** - AIå±é™ºåˆ¤å®š
3. **Path Validation** - `ALLOWED_PATHS`åˆ¶é™
4. **Command Safety** - `rm -rf /`ãªã©ãƒ–ãƒ­ãƒƒã‚¯
5. **Rate Limiting** - éåº¦ãªä½¿ç”¨é˜²æ­¢
6. **Audit Logging** - å…¨æ“ä½œè¨˜éŒ²ï¼ˆ`/tmp/claude-telegram-audit.log`ï¼‰

**å„ªä½æ€§:**
- å¤šå±¤é˜²å¾¡
- è‡ªå‹•æ¤œçŸ¥
- å®Œå…¨ãªãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/security.ts` - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½
- `src/utils/danger-detector.ts` - å±é™ºæ¤œçŸ¥
- `SECURITY.md` - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¢ãƒ‡ãƒ«

---

### 7.2 Approval Flowï¼ˆæ‰¿èªãƒ•ãƒ­ãƒ¼ï¼‰
**ç›®çš„:** å±é™ºãªæ“ä½œã®äº‹å‰ç¢ºèª

**æ©Ÿèƒ½:**
- å±é™ºãªæ“ä½œã‚’è‡ªå‹•æ¤œçŸ¥
- ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã§æ‰¿èª/æ‹’å¦
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½

**å„ªä½æ€§:**
- èª¤æ“ä½œé˜²æ­¢
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«
- é€æ˜æ€§ã®ç¢ºä¿

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/utils/approval-flow.ts`
- `src/utils/approval-manager.ts`

---

### 7.3 Red Teamï¼ˆè„…å¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
**ç›®çš„:** ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ç¶™ç¶šçš„æ¤œè¨¼

**æ©Ÿèƒ½:**
- è‡ªå‹•çš„ãªè„…å¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- è„†å¼±æ€§ã®æ—©æœŸç™ºè¦‹
- Learning Logè¨˜éŒ²

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/utils/red-team.ts`

---

## 8. çµ±åˆæ©Ÿèƒ½

### 8.1 å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº
**ç›®çš„:** ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ

**çµ±åˆæ¸ˆã¿ã‚µãƒ¼ãƒ“ã‚¹:**
- **Obsidian** - ãƒãƒ¼ãƒˆç®¡ç†
- **Toggl Track** - æ™‚é–“ç®¡ç†ï¼ˆæ—¥æ¬¡19:00/é€±æ¬¡æ—¥æ›œ19:00ãƒ¬ãƒãƒ¼ãƒˆï¼‰
- **Fantastical** - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç®¡ç†
- **Reminders** - ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ç®¡ç†
- **iMessage** - iPhoneã‚¢ãƒ©ãƒ¼ãƒ é€£æº

**å„ªä½æ€§:**
- æ—¢å­˜ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«çµ±åˆ
- ãƒ‡ãƒ¼ã‚¿ã®ä¸€å…ƒç®¡ç†
- ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

---

### 8.2 MCPï¼ˆModel Context Protocolï¼‰ã‚µãƒ¼ãƒãƒ¼
**ç›®çš„:** æ‹¡å¼µå¯èƒ½ãªãƒ„ãƒ¼ãƒ«çµ±åˆ

**æ©Ÿèƒ½:**
- `ask_user` MCP serverï¼ˆBuilt-inï¼‰
- ã‚«ã‚¹ã‚¿ãƒ MCPã‚µãƒ¼ãƒãƒ¼è¿½åŠ å¯èƒ½
- `mcp-config.local.ts`ã§è¨­å®š

**å„ªä½æ€§:**
- æ¨™æº–ãƒ—ãƒ­ãƒˆã‚³ãƒ«
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å¯èƒ½
- ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è³‡ç”£æ´»ç”¨

**è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«:**
- `mcp-config.ts` - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
- `mcp-config.local.ts` - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š

---

### 8.3 Execution Routerï¼ˆå®Ÿè¡Œç’°å¢ƒãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰
**ç›®çš„:** ã‚¿ã‚¹ã‚¯ã«å¿œã˜ãŸæœ€é©ãªå®Ÿè¡Œç’°å¢ƒ

**æ©Ÿèƒ½:**
- M1ã‚µãƒ¼ãƒãƒ¼ vs M3 MacBookã®è‡ªå‹•é¸æŠ
- è² è·åˆ†æ•£
- ãƒªãƒ¢ãƒ¼ãƒˆå®Ÿè¡Œ

**å„ªä½æ€§:**
- ãƒªã‚½ãƒ¼ã‚¹ã®æœ€é©åˆ©ç”¨
- 24/7ç¨¼åƒã‚¿ã‚¹ã‚¯å¯¾å¿œ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€å¤§åŒ–

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `src/utils/execution-router.ts`
- `src/utils/m3-agent-client.ts`

---

## ğŸ¯ æ©Ÿèƒ½è©•ä¾¡ã‚µãƒãƒªãƒ¼

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª | å®Ÿè£…æ•° | è©•ä¾¡ | å‚™è€ƒ |
|-------------|--------|------|------|
| ã‚³ã‚¢æ©Ÿèƒ½ | 3 | â­â­â­â­â­ | å®‰å®šãƒ»å®Œæˆåº¦é«˜ã„ |
| è¨˜æ†¶ãƒ»å…±æœ‰ | 3 | â­â­â­â­â­ | Action Ledger 9.5/10 |
| è‡ªå‹•åŒ– | 3 | â­â­â­â­ | Autopilotåˆã®å®Ÿæˆ¦ãƒ†ã‚¹ãƒˆå¾…ã¡ |
| AI Council | 3 | â­â­â­â­ | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå•é¡Œè§£æ±ºæ¸ˆã¿ |
| é€šçŸ¥ãƒ»UX | 2 | â­â­â­â­â­ | é€šçŸ¥67%å‰Šæ¸›æˆåŠŸ |
| ã‚¿ã‚¹ã‚¯ç®¡ç† | 2 | â­â­â­â­ | å®Ÿç”¨ãƒ¬ãƒ™ãƒ« |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ | 3 | â­â­â­â­â­ | å¤šå±¤é˜²å¾¡ |
| çµ±åˆæ©Ÿèƒ½ | 3 | â­â­â­â­ | æ‹¡å¼µæ€§é«˜ã„ |

**ç·åˆè©•ä¾¡:** â­â­â­â­â­ (4.7/5.0)

---

## ğŸ“Š å®Ÿè£…çµ±è¨ˆ

- **ç·å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«æ•°:** 60+ TypeScript files
- **ç·ã‚³ãƒ¼ãƒ‰è¡Œæ•°:** ç´„15,000è¡Œ
- **é–‹ç™ºæœŸé–“:** 2026-02-01 ã€œ 2026-02-03ï¼ˆ3æ—¥é–“é›†ä¸­é–‹ç™ºï¼‰
- **ä¸»è¦å®Ÿè£…æ—¥:**
  - 2026-02-01: Memory Gatewayã€ã‚¢ãƒ©ãƒ¼ãƒ è‡ªå‹•åŒ–
  - 2026-02-02: AI Councilã€ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–AIç§˜æ›¸
  - 2026-02-03: Action Ledger v1.2.1ã€é€šçŸ¥ã‚¹ãƒ‘ãƒ é˜²æ­¢

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### Priority 1ï¼ˆç·Šæ€¥ï¼‰
- [ ] Autopilot Engineå®Ÿæˆ¦ãƒ†ã‚¹ãƒˆï¼ˆä»Šå¤œ20:00 Evening Reviewï¼‰
- [ ] Morning Briefingå®Ÿæˆ¦ãƒ†ã‚¹ãƒˆï¼ˆæ˜æ—¥æœ3:00ï¼‰

### Priority 2ï¼ˆé‡è¦ï¼‰
- [ ] Action Ledger Priority 2æ”¹å–„ï¼ˆtimeoutç®¡ç†ãƒ»dedupe hashåŒ–ï¼‰
- [ ] Confidence Routerå®Ÿè£…
- [ ] Learning Logå®Ÿè£…

### Priority 3ï¼ˆæ”¹å–„ï¼‰
- [ ] AI_MEMORYãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†å¯¾å¿œ
- [ ] ãƒªãƒˆãƒ©ã‚¤ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†å¼·åŒ–
- [ ] Weekly Reviewè‡ªå‹•åŒ–

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [README.md](./README.md) - ãƒ¡ã‚¤ãƒ³ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [SECURITY.md](./SECURITY.md) - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¢ãƒ‡ãƒ«
- [docs/personal-assistant-guide.md](./docs/personal-assistant-guide.md) - ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆè¨­å®šã‚¬ã‚¤ãƒ‰
- [workspace/AGENTS.md](./workspace/AGENTS.md) - AIå‹•ä½œãƒ«ãƒ¼ãƒ«
- [docs/jarvis/rules/71-council-policy.md](./docs/jarvis/rules/71-council-policy.md) - AI Councilãƒãƒªã‚·ãƒ¼
- [AUTOPILOT_TEST_REPORT.md](./AUTOPILOT_TEST_REPORT.md) - Autopilotãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ
- [NOTIFICATION_SPAM_FIX.md](./NOTIFICATION_SPAM_FIX.md) - é€šçŸ¥ã‚¹ãƒ‘ãƒ é˜²æ­¢ãƒ¬ãƒãƒ¼ãƒˆ

---

## ğŸ¤– AI Agents

| AI | å½¹å‰² | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | ãƒ¢ãƒ‡ãƒ« |
|----|------|----------------|--------|
| JarvisğŸ¤– | ãƒ¡ã‚¤ãƒ³ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ | Telegram Bot | Claude Opus 4.5 |
| ã‚¯ãƒ­ãƒƒãƒ”ãƒ¼ğŸ¦ | ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ | claude.ai | Claude Opus 4.5 |
| ã‚¸ã‚§ãƒŸãƒ¼ğŸ’ | ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ | Gemini API | Gemini Pro |
| ãƒãƒ£ãƒƒãƒ”ãƒ¼ğŸ§  | ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ | ChatGPT API | GPT-4 |

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

**é–‹ç™ºè€…:** æ¾å²¡å¤§æ¬¡éƒï¼ˆã‚­ã‚«ã‚¤ãƒ©ãƒœä»£è¡¨ï¼‰
**Email:** ï¼ˆAI_MEMORYã«è¨˜éŒ²ï¼‰
**Phone:** +81-80-6556-0713
**Memory Gateway:** https://jarvis-memory-gateway.jarvis-matsuoka.workers.dev

---

**Last Updated:** 2026-02-03 22:21 JST
**Document Version:** 1.0
**Bot Version:** Jarvis v1.2.1
